<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Neon(₿)Trade — Admin Panel</title>
<link rel="stylesheet" href="css/admin.css">

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-storage.js"></script>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

<script src="js/firebase-global.js" defer></script>
<script src="js/admin.js" defer></script>
</head>
<body>
<div class="admin-root">

  <!-- Sidebar -->
  <aside class="admin-sidebar">
    <div class="admin-brand">
      <img src="images/logo.png" alt="NeonT" class="logo">
      <div class="brand-text">
        <span class="title">Neon(₿)Trade Admin</span>
        <small>Manage Platform</small>
      </div>
    </div>
    <nav class="admin-nav">
      <button class="nav-btn active" data-target="overview">Overview</button>
      <button class="nav-btn" data-target="users">Users</button>
      <button class="nav-btn" data-target="deposits">Deposits</button>
      <button class="nav-btn" data-target="withdrawals">Withdrawals</button>
      <button class="nav-btn" data-target="settings">Site Settings</button>
      <button class="nav-btn" data-target="charts">Charts</button>
    </nav>
    <div class="sidebar-footer">
      <button id="admin-logout" class="btn-ghost">Logout</button>
    </div>
  </aside>

  <!-- Main content -->
  <main class="admin-main">
    <header class="admin-topbar">
      <h1 id="page-title">Overview</h1>
      <div class="admin-user">
        <div id="admin-displayname">Admin</div>
        <small id="admin-uid">—</small>
      </div>
    </header>

    <section id="overview" class="admin-section active">
      <h2>Platform Overview</h2>
      <div class="cards-grid">
        <div class="card">
          <h3>Total Users</h3>
          <div id="total-users">0</div>
        </div>
        <div class="card">
          <h3>Total Deposits</h3>
          <div id="total-deposits">0 USD</div>
        </div>
        <div class="card">
          <h3>Total Withdrawals</h3>
          <div id="total-withdrawals">0 USD</div>
        </div>
        <div class="card">
          <h3>Leaderboard Active</h3>
          <div id="leaderboard-status">—</div>
          <button id="toggle-leaderboard" class="btn-small">Toggle Leaderboard</button>
        </div>
      </div>
    </section>

    <section id="users" class="admin-section">
      <h2>Users</h2>
      <table class="admin-table">
        <thead>
          <tr><th>Name</th><th>Email</th><th>UID</th><th>Balance BTC</th><th>Balance USD</th><th>Plan</th><th>Actions</th></tr>
        </thead>
        <tbody id="users-table-body">
          <tr><td colspan="7">Loading...</td></tr>
        </tbody>
      </table>
    </section>

    <section id="deposits" class="admin-section">
      <h2>Pending Deposits</h2>
      <table class="admin-table">
        <thead>
          <tr><th>User</th><th>Amount (BTC)</th><th>Plan</th><th>Status</th><th>Actions</th></tr>
        </thead>
        <tbody id="deposits-table-body">
          <tr><td colspan="5">Loading...</td></tr>
        </tbody>
      </table>
    </section>

    <section id="withdrawals" class="admin-section">
      <h2>Pending Withdrawals</h2>
      <table class="admin-table">
        <thead>
          <tr><th>User</th><th>Amount (USD)</th><th>Wallet</th><th>Status</th><th>Actions</th></tr>
        </thead>
        <tbody id="withdraws-table-body">
          <tr><td colspan="5">Loading...</td></tr>
        </tbody>
      </table>
    </section>

    <section id="settings" class="admin-section">
      <h2>Site Settings</h2>
      <div class="settings-grid">
        <label>Upload Deposit QR Code</label>
        <input type="file" id="upload-qr" accept="image/*">
        <label>Social Buttons JSON</label>
        <textarea id="social-json" rows="5">{"whatsapp":"#","facebook":"#","instagram":"#","email":"mailto:support@neontrade.com"}</textarea>
        <button id="save-settings" class="btn-primary">Save Settings</button>
      </div>
    </section>

    <section id="charts" class="admin-section">
      <h2>Portfolio Chart</h2>
      <canvas id="admin-portfolio-chart" height="200"></canvas>
    </section>
  </main>
</div>
<div id="admin-snackbar" class="snackbar hidden"></div>
</body>
</html>
